{"ast":null,"code":"import _asyncToGenerator from\"/Users/Juliana/Projects/GitHub/lordoftherings/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/Juliana/Projects/GitHub/lordoftherings/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/Juliana/Projects/GitHub/lordoftherings/node_modules/@babel/runtime/regenerator/index.js\";import'../assets/characters.css';import{useEffect,useState}from'react';import{FormControl,Form,CardGroup,Card,Container,Button}from'react-bootstrap';import LOTRImg from'../assets/tree-bottom.png';import ReactPaginate from'react-paginate';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export function Characters(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),character=_useState4[0],setCharacter=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),countPages=_useState6[0],setCountPages=_useState6[1];var dataLimit=10;useEffect(function(){setLoading(true);var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var rawCharacters,chars;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(props.chars+'?page=1&limit='+dataLimit,{headers:props.headers});case 2:rawCharacters=_context.sent;_context.next=5;return rawCharacters.json();case 5:chars=_context.sent;setCharacter(chars.docs);setCountPages(Math.ceil(chars.total/dataLimit));case 8:case\"end\":return _context.stop();}}},_callee);}));return function fetchData(){return _ref.apply(this,arguments);};}();fetchData();setLoading(false);},[props,dataLimit]);//Gets the clicked item number on the Pagination and call the fetchDataPaginated\nvar pageClick=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(data){var page,chars;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:page=data.selected+1;_context2.next=3;return fetchDataPaginated(page);case 3:chars=_context2.sent;setCharacter(chars.docs);case 5:case\"end\":return _context2.stop();}}},_callee2);}));return function pageClick(_x){return _ref2.apply(this,arguments);};}();// Fetch the API again to set the page and the limit of items in each page\nvar fetchDataPaginated=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(page){var rawCharacters,chars;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return fetch(props.chars+'?page='+page+'&limit='+dataLimit,{headers:props.headers});case 2:rawCharacters=_context3.sent;_context3.next=5;return rawCharacters.json();case 5:chars=_context3.sent;return _context3.abrupt(\"return\",chars);case 7:case\"end\":return _context3.stop();}}},_callee3);}));return function fetchDataPaginated(_x2){return _ref3.apply(this,arguments);};}();if(loading){return/*#__PURE__*/_jsx(\"center\",{children:\"Loading...\"});}return/*#__PURE__*/_jsxs(\"main\",{id:\"Characters\",children:[/*#__PURE__*/_jsxs(Container,{className:\"jumbotron\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-light\",children:\"Characters\"}),/*#__PURE__*/_jsxs(Form,{className:\"d-flex container\",children:[/*#__PURE__*/_jsx(FormControl,{type:\"search\",placeholder:\"Search by name\",\"aria-label\":\"Search\",disabled:true}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",disabled:true,children:\"Search\"})]}),/*#__PURE__*/_jsx(CardGroup,{children:character.map(function(array){return/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(Card.Link,{href:array.wikiUrl,target:\"_blank\",children:[/*#__PURE__*/_jsx(Card.Title,{children:array.name}),/*#__PURE__*/_jsx(Card.Body,{children:/*#__PURE__*/_jsxs(Card.Text,{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Race:\"}),\" \",array.race,/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{children:\"Gender:\"}),\" \",array.gender,/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{children:\"Birth:\"}),\" \",array.birth,/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{children:\"Spouse:\"}),\" \",array.spouse,/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{children:\"Death:\"}),\" \",array.death,/*#__PURE__*/_jsx(\"br\",{})]})})]})},array._id);})}),/*#__PURE__*/_jsx(ReactPaginate,{previousLabel:\"<\",nextLabel:\">\",breakLabel:\"...\",pageCount:countPages,marginPagesDisplayed:2,pageRangeDisplayed:3,onPageChange:pageClick,containerClassName:\"pagination\",pageClassName:\"page-item\",pageLinkClassName:\"page-link\",previousClassName:\"page-item\",previousLinkClassName:\"page-link\",nextClassName:\"page-item\",nextLinkClassName:\"page-link\",breakClassName:\"page-item\",breakLinkClassName:\"page-link\",activeClassName:\"active\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"img-bottom\",children:/*#__PURE__*/_jsx(\"img\",{src:LOTRImg,alt:\"Tree.\"})})]});}","map":{"version":3,"sources":["/Users/Juliana/Projects/GitHub/lordoftherings/src/views/characters.js"],"names":["useEffect","useState","FormControl","Form","CardGroup","Card","Container","Button","LOTRImg","ReactPaginate","Characters","props","loading","setLoading","character","setCharacter","countPages","setCountPages","dataLimit","fetchData","fetch","chars","headers","rawCharacters","json","docs","Math","ceil","total","pageClick","data","page","selected","fetchDataPaginated","map","array","wikiUrl","name","race","gender","birth","spouse","death","_id"],"mappings":"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","sourcesContent":["import '../assets/characters.css';\nimport { useEffect, useState } from 'react';\nimport { FormControl, Form, CardGroup, Card, Container, Button } from 'react-bootstrap';\nimport LOTRImg from '../assets/tree-bottom.png';\nimport ReactPaginate from 'react-paginate';\n\nexport function Characters(props) {\n  const [loading, setLoading] = useState(false);\n  const [character, setCharacter] = useState([]);\n  const [countPages, setCountPages] = useState(0);\n  const dataLimit = 10;\n  \n  useEffect(() => {\n    setLoading(true);\n\n    const fetchData = async () => {\n      const rawCharacters = await fetch(props.chars + '?page=1&limit=' + dataLimit, { headers: props.headers });\n      const chars = await rawCharacters.json();\n      setCharacter(chars.docs);\n      setCountPages(Math.ceil(chars.total / dataLimit));\n    };\n\n    fetchData();\n\n    setLoading(false);\n  }, [props, dataLimit]);\n\n  //Gets the clicked item number on the Pagination and call the fetchDataPaginated\n  const pageClick = async (data) => {\n    let page = data.selected + 1;\n    const chars = await fetchDataPaginated(page);\n    setCharacter(chars.docs);\n  }\n\n  // Fetch the API again to set the page and the limit of items in each page\n  const fetchDataPaginated = async (page) => {\n    const rawCharacters = await fetch(props.chars + '?page=' + page + '&limit=' + dataLimit, { headers: props.headers });\n    const chars = await rawCharacters.json();\n    return chars;\n  }\n\n  if(loading) {\n    return (\n      <center>Loading...</center>\n    );\n  }\n\n  return (\n\n    <main id=\"Characters\">\n\n      <Container className='jumbotron'>\n\n        <h1 className='text-light'>Characters</h1>\n\n        <Form className=\"d-flex container\">\n          <FormControl\n            type=\"search\"\n            placeholder=\"Search by name\"\n            aria-label=\"Search\" disabled\n          />\n          <Button variant=\"primary\" disabled>Search</Button>\n        </Form>\n\n        <CardGroup>\n          {character.map ((array) => (\n            <Card key={array._id}>\n              <Card.Link href={array.wikiUrl} target=\"_blank\">\n              <Card.Title>{array.name}</Card.Title>\n              <Card.Body>\n                <Card.Text>\n                  <label>Race:</label> {array.race}<br />\n                  <label>Gender:</label> {array.gender}<br />\n                  <label>Birth:</label> {array.birth}<br />\n                  <label>Spouse:</label> {array.spouse}<br />\n                  <label>Death:</label> {array.death}<br />\n                </Card.Text>\n              </Card.Body>\n              </Card.Link>\n            </Card>\n          ))}\n        </CardGroup>\n\n        <ReactPaginate\n          previousLabel={\"<\"}\n          nextLabel={\">\"}\n          breakLabel={\"...\"}\n          pageCount={countPages}\n          marginPagesDisplayed={2}\n          pageRangeDisplayed={3}\n          onPageChange={pageClick}\n          containerClassName={\"pagination\"}\n          pageClassName={\"page-item\"}\n          pageLinkClassName={\"page-link\"}\n          previousClassName={\"page-item\"}\n          previousLinkClassName={\"page-link\"}\n          nextClassName={\"page-item\"}\n          nextLinkClassName={\"page-link\"}\n          breakClassName={\"page-item\"}\n          breakLinkClassName={\"page-link\"}\n          activeClassName={\"active\"}\n        />\n\n      </Container>\n\n      <div className='img-bottom'>\n        <img src={LOTRImg} alt=\"Tree.\" />\n      </div>\n\n    </main>\n  );\n}"]},"metadata":{},"sourceType":"module"}